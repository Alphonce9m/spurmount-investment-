<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products - SpurMount Wholesale</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/custom.css">
    <link rel="stylesheet" href="css/products.css">
    <!-- noUiSlider CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.6.1/nouislider.min.css">
</head>
<body>
    <!-- Include Header -->
        <!-- Header will be inserted here by JavaScript -->
    <div id="header-container">
        <!-- Loading indicator that will be replaced -->
        <div class="header-loading">Loading navigation...</div>
    </div><!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Our Products</h1>
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Products</li>
                </ol>
            </nav>
        </div>
    </section>

    <!-- Products Section -->
    <section class="products-section">
        <div class="container">
            <!-- Search and Filter Sidebar -->
            <div class="row">
                <div class="col-lg-3">
                    <div class="filter-sidebar">
                        <div class="filter-section">
                            <h4 class="filter-title">Search</h4>
                            <div class="search-box-container">
                                <i class="fas fa-search search-icon"></i>
                                <input type="text" class="search-box" placeholder="Search products..." id="search-input">
                            </div>
                        </div>

                        <div class="filter-section">
                            <h4 class="filter-title">Price Range</h4>
                            <div class="price-range">
                                <div class="price-inputs">
                                    <input type="number" id="min-price" placeholder="Min" class="form-control">
                                    <span>-</span>
                                    <input type="number" id="max-price" placeholder="Max" class="form-control">
                                </div>
                                <div id="price-slider"></div>
                            </div>
                        </div>

                        <div class="filter-section">
                            <h4 class="filter-title">Categories</h4>
                            <div class="category-filters">
                                <div class="form-check">
                                    <input class="form-check-input category-filter" type="checkbox" value="grains" id="cat-grains" checked>
                                    <label class="form-check-label" for="cat-grains">
                                        Grains
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input category-filter" type="checkbox" value="pulses" id="cat-pulses" checked>
                                    <label class="form-check-label" for="cat-pulses">
                                        Pulses
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input category-filter" type="checkbox" value="spices" id="cat-spices" checked>
                                    <label class="form-check-label" for="cat-spices">
                                        Spices
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="filter-section">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="in-stock-only">
                                <label class="form-check-label" for="in-stock-only">
                                    In Stock Only
                                </label>
                            </div>
                        </div>

                        <button id="reset-filters" class="btn btn-outline-secondary btn-sm w-100 mt-3">
                            <i class="fas fa-undo-alt me-1"></i> Reset Filters
                        </button>
                    </div>
                </div>

                <div class="col-lg-9">
                    <div class="products-header">
                        <div class="products-count">
                            <p>Showing <span id="showing-count">0</span> of <span id="total-count">0</span> products</p>
                        </div>
                        <div class="products-sort">
                            <label for="sort-by">Sort by:</label>
                            <select id="sort-by" class="form-select">
                                <option value="featured">Featured</option>
                                <option value="name-asc">Name: A-Z</option>
                                <option value="name-desc">Name: Z-A</option>
                                <option value="price-low">Price: Low to High</option>
                                <option value="price-high">Price: High to Low</option>
                            </select>
                        </div>
                    </div>
                            <option value="name-asc">Name: A to Z</option>
                            <option value="name-desc">Name: Z to A</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Category Filters -->
            <div class="category-filters">
                <button class="category-btn active" data-category="all">All Products</button>
                <button class="category-btn" data-category="grains">Grains & Cereals</button>
                <button class="category-btn" data-category="pulses">Pulses & Legumes</button>
                <button class="category-btn" data-category="spices">Spices</button>
                <button class="category-btn" data-category="nuts">Nuts & Seeds</button>
                <button class="category-btn" data-category="flours">Flours & Meals</button>
            </div>
            
            <div class="products-grid">
                <!-- Product 1 -->
                <div class="product-card" data-category="grains" data-price="2500">
                    <div class="product-badge">Bestseller</div>
                    <div class="product-image">
                        <img src="images/products/rice.jpg" alt="Premium Rice" onclick="openQuickView('1')" style="cursor: pointer;">
                    </div>
                    <div class="product-details">
                        <h3 class="product-title">Premium Rice</h3>
                        <p class="product-desc">High quality rice, perfect for restaurants and households</p>
                        <div class="product-price">
                            <span class="price">Ksh 2,500</span>
                            <span class="unit">per 50kg bag</span>
                        </div>
                        <div class="product-moq">Min. Order: 5 bags</div>
                        <div class="product-actions">
                            <button class="btn btn-outline-secondary btn-sm wishlist-btn">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="btn btn-outline-primary btn-sm quick-view-btn" onclick="openQuickView('1')">
                                <i class="fas fa-eye"></i> Quick View
                            </button>
                            <button class="btn btn-primary btn-sm add-to-cart-btn">
                                <i class="fas fa-shopping-cart"></i> Add to Cart
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Product 2 -->
                <div class="product-card" data-category="pulses" data-price="180">
                    <div class="product-badge">New</div>
                    <div class="product-image">
                        <img src="images/products/beans.jpg" alt="Beans">
                        <button class="quick-view-btn" data-product="beans">Quick View</button>
                    </div>
                    <div class="product-details">
                        <h3 class="product-title">Beans</h3>
                        <p class="product-desc">Fresh and nutritious beans, packed with protein</p>
                        <div class="product-price">
                            <span class="price">Ksh 180</span>
                            <span class="unit">per kg</span>
                        </div>
                        <div class="product-moq">Min. Order: 10kg</div>
                        <div class="product-actions">
                            <button class="btn btn-outline add-to-cart-btn" data-product="beans">
                                <i class="fas fa-shopping-cart"></i> Add to Cart
                            </button>
                            <a href="https://wa.me/254700000000?text=I%20would%20like%20to%20order%20Beans" class="btn btn-whatsapp" target="_blank">
                                <i class="fab fa-whatsapp"></i> Order
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Add more products as needed -->
            </div>

            <!-- Pagination -->
            <div class="pagination">
                <a href="#" class="page-link disabled"><i class="fas fa-chevron-left"></i> Previous</a>
                <a href="#" class="page-link active">1</a>
                <a href="#" class="page-link">2</a>
                <a href="#" class="page-link">3</a>
                <a href="#" class="page-link">Next <i class="fas fa-chevron-right"></i></a>
            </div>
        </div>
    </section>

    <!-- Include Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section about">
                    <h3>About Us</h3>
                    <p>Your trusted wholesale partner for premium dry foodstuffs. Quality products at competitive prices.</p>
                </div>
                <div class="footer-section links">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="products.html">Products</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section contact">
                    <h3>Contact Us</h3>
                    <p><i class="fas fa-phone"></i> +254 700 000000</p>
                    <p><i class="fas fa-envelope"></i> info@spurmount.com</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
            </div>
        </div>
    </footer>
    <!-- jQuery (required for Bootstrap and other plugins) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom Scripts -->
    <script src="js/main.js"></script>
    <script src="js/include-header.js"></script>
    <!-- noUiSlider JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/wnumb/1.2.0/wNumb.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.6.1/nouislider.min.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/quick-view.js"></script>
    <script src="js/products.js"></script>
    <script src="js/cart.js"></script>
    
    <script>
        // Initialize price range slider
        const priceSlider = document.getElementById('price-slider');
        if (priceSlider) {
            noUiSlider.create(priceSlider, {
                start: [0, 10000],
                connect: true,
                range: {
                    'min': 0,
                    'max': 10000
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize cart count
            updateCartCount();
            
            // Quick view button click handler
            document.addEventListener('click', function(e) {
                const quickViewBtn = e.target.closest('.quick-view-btn');
                if (quickViewBtn) {
                    e.preventDefault();
                    const productId = quickViewBtn.getAttribute('data-product-id') || '1';
                    if (typeof openQuickView === 'function') {
                        openQuickView(productId);
                    } else {
                        console.error('Quick view function not loaded');
                    }
                }
            });
            
            // Add to cart button click handler
            document.addEventListener('click', function(e) {
                const addToCartBtn = e.target.closest('.add-to-cart-btn');
                if (addToCartBtn) {
                    e.preventDefault();
                    // Get product details from the card
                    const productCard = addToCartBtn.closest('.product-card');
                    const productId = productCard.getAttribute('data-product-id') || Date.now().toString();
                    const productName = productCard.querySelector('.product-title').textContent;
                    const productPrice = parseFloat(productCard.getAttribute('data-price')) || 0;
                    const productImage = productCard.querySelector('img')?.src || '';
                    
                    // Add to cart
                    addToCart({
                        id: productId,
                        name: productName,
                        price: productPrice,
                        image: productImage,
                        quantity: 1
                    });
                    
                    // Show notification
                    showNotification(`${productName} added to cart!`);
                    
                    // Update cart count
                    updateCartCount();
                }
            });
            
            // Wishlist button click handler
            document.addEventListener('click', function(e) {
                const wishlistBtn = e.target.closest('.wishlist-btn');
                if (wishlistBtn) {
                    e.preventDefault();
                    const icon = wishlistBtn.querySelector('i');
                    const isActive = wishlistBtn.classList.contains('active');
                    
                    if (isActive) {
                        wishlistBtn.classList.remove('active');
                        icon.classList.remove('fas', 'fa-heart');
                        icon.classList.add('far', 'fa-heart');
                        showNotification('Removed from wishlist');
                    } else {
                        wishlistBtn.classList.add('active');
                        icon.classList.remove('far', 'fa-heart');
                        icon.classList.add('fas', 'fa-heart');
                        showNotification('Added to wishlist');
                    }
                }
            });
            
            // Initialize product filtering and sorting
            if (typeof initializeProductFilters === 'function') {
                initializeProductFilters();
            }
        });
        
        // Function to show notification
        function showNotification(message) {
            // Check if notification element already exists
            let notification = document.querySelector('.notification');
            
            if (!notification) {
                notification = document.createElement('div');
                notification.className = 'notification';
                document.body.appendChild(notification);
            }
            
            notification.textContent = message;
            notification.classList.add('show');
            
            // Remove notification after 3 seconds
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    if (notification && notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }
        
        // Function to update cart count in the header
        function updateCartCount() {
            if (typeof getCartItemCount === 'function') {
                const count = getCartItemCount();
                const cartCount = document.querySelector('.cart-count');
                if (cartCount) {
                    cartCount.textContent = count;
                    cartCount.style.display = count > 0 ? 'flex' : 'none';
                }
            }
        }
    </script>
</body>
</html>
